Traceback (most recent call last):
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/site-packages/nbclient/client.py", line 1314, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 173, in wrapped
    return loop.run_until_complete(inner)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.10/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
n = 8
# r_pf = 50
r_list = np.linspace(10, 200, 20, dtype=int) 
t_max, t_n = 20, 100
t_list = np.linspace(1, t_max, t_n)

J, h, g = 0.2, 1.0, 0.0
# H = get_hamiltonian(L=n, J=1.0, h=1., verbose=True)
H = get_hamiltonian(L=n, J=J, h=h, g=g, verbose=True)
init_state = Statevector.from_label('0'*n)
magn_op = SparsePauliOp.from_sparse_list([('Y', [i], 1.) for i in range(0, n)], num_qubits=n)
magn_err_list = []
for r in r_list:
    echo, rate, magn, entr  = dynamics(H, init_state, magn_op, t_list, r)
    magn_err = sum(abs(np.subtract(magn['exact'], magn['trott']))**2)
    print(magn_err)
    magn_err_list.append(magn_err)

plt.plot([1/r for r in r_list], magn_err_list, marker='o')
plt.xlabel('1/r')
plt.xscale('log')
plt.ylabel('error')
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mNameError[0m                                 Traceback (most recent call last)
Cell [0;32mIn[2], line 9[0m
[1;32m      7[0m J, h, g [38;5;241m=[39m [38;5;241m0.2[39m, [38;5;241m1.0[39m, [38;5;241m0.0[39m
[1;32m      8[0m [38;5;66;03m# H = get_hamiltonian(L=n, J=1.0, h=1., verbose=True)[39;00m
[0;32m----> 9[0m H [38;5;241m=[39m [43mget_hamiltonian[49m(L[38;5;241m=[39mn, J[38;5;241m=[39mJ, h[38;5;241m=[39mh, g[38;5;241m=[39mg, verbose[38;5;241m=[39m[38;5;28;01mTrue[39;00m)
[1;32m     10[0m init_state [38;5;241m=[39m Statevector[38;5;241m.[39mfrom_label([38;5;124m'[39m[38;5;124m0[39m[38;5;124m'[39m[38;5;241m*[39mn)
[1;32m     11[0m magn_op [38;5;241m=[39m SparsePauliOp[38;5;241m.[39mfrom_sparse_list([([38;5;124m'[39m[38;5;124mY[39m[38;5;124m'[39m, [i], [38;5;241m1.[39m) [38;5;28;01mfor[39;00m i [38;5;129;01min[39;00m [38;5;28mrange[39m([38;5;241m0[39m, n)], num_qubits[38;5;241m=[39mn)

[0;31mNameError[0m: name 'get_hamiltonian' is not defined

